var Main=function(e){function t(){e.call(this),this.arrStars=[],this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(t,e);var n=(__define,t),o=n.prototype;return o.onAddToStage=function(e){RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},o.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.loadGroup("preload")},o.onResourceLoadComplete=function(e){"preload"==e.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),this.createGameScene())},o.createGameScene=function(){var e=this,t=730,n=530,o=365,r=265,a=new egret.DisplayObjectContainer;this.addChild(a);var i=new egret.Shape,d=new egret.Matrix;d.createGradientBox(t,n),i.graphics.beginGradientFill(egret.GradientType.RADIAL,[0,3026478],[1,1],[0,255],d),i.graphics.drawRect(0,0,t,n),i.graphics.endFill(),a.addChild(i);var s=14e3,g=new egret.Bitmap(RES.getRes("c1-2_png"));g.blendMode=egret.BlendMode.ADD,g.x=o,g.y=r,g.rotation=-20,g.anchorOffsetY=-148,a.addChild(g),egret.Tween.get(g,{loop:!0}).to({rotation:340},2e4);var h=new egret.Bitmap(RES.getRes("c1-1_png"));h.blendMode=egret.BlendMode.ADD,h.x=o,h.y=r,h.anchorOffsetX=186,h.anchorOffsetY=186,a.addChild(h),egret.Tween.get(h,{loop:!0}).to({rotation:360},5e3);var l=new egret.Bitmap(RES.getRes("c2_png"));l.blendMode=egret.BlendMode.ADD,l.x=o,l.y=r,l.anchorOffsetX=40,l.anchorOffsetY=164,a.addChild(l),egret.Tween.get(l,{loop:!0}).to({rotation:-360},s);var c=new egret.Bitmap(RES.getRes("c2_png"));c.blendMode=egret.BlendMode.ADD,c.x=o,c.y=r,c.scaleX=-1,c.anchorOffsetX=40,c.anchorOffsetY=164,a.addChild(c),egret.Tween.get(c,{loop:!0}).to({rotation:360},s);var p=new egret.Bitmap(RES.getRes("c3_png"));p.x=o,p.y=r,p.rotation=180,p.anchorOffsetX=131,p.anchorOffsetY=124,a.addChild(p),egret.Tween.get(p,{loop:!0}).to({rotation:-180},s);var f=new egret.Bitmap(RES.getRes("c4_png"));f.x=o,f.y=r,f.anchorOffsetX=4,f.anchorOffsetY=108,a.addChild(f),egret.Tween.get(f,{loop:!0}).to({rotation:360},s+4e3);var R=new egret.Bitmap(RES.getRes("c5-1_png"));R.blendMode=egret.BlendMode.ADD,R.x=o,R.y=r,R.scaleX=-1,R.anchorOffsetY=62,a.addChild(R),egret.Tween.get(R,{loop:!0}).to({rotation:360},s);var E=new egret.Bitmap(RES.getRes("c5-2_png"));E.blendMode=egret.BlendMode.ADD,E.x=o,E.y=r,E.rotation=50,E.anchorOffsetX=98,E.anchorOffsetY=100,a.addChild(E),egret.Tween.get(E,{loop:!0}).to({rotation:-310},s);var v=new egret.Bitmap(RES.getRes("c5-3_png"));v.blendMode=egret.BlendMode.ADD,v.x=o,v.y=r,v.anchorOffsetX=3,v.anchorOffsetY=-22,a.addChild(v),egret.Tween.get(v,{loop:!0}).to({rotation:360},s);var M=new egret.Bitmap(RES.getRes("c5-3_png"));M.blendMode=egret.BlendMode.ADD,M.x=o,M.y=r,M.rotation=-50,M.anchorOffsetX=3,M.anchorOffsetY=-22,a.addChild(M),egret.Tween.get(M,{loop:!0}).to({rotation:-410},s);var S=new egret.Bitmap(RES.getRes("c5-4_png"));S.blendMode=egret.BlendMode.ADD,S.x=o,S.y=r,S.rotation=-120,S.anchorOffsetX=28,S.anchorOffsetY=-18,a.addChild(S),egret.Tween.get(S,{loop:!0}).to({rotation:240},s);var C=new egret.Bitmap(RES.getRes("c6-1_png"));C.blendMode=egret.BlendMode.ADD,C.x=o,C.y=r,C.rotation=-100,C.anchorOffsetY=-129,a.addChild(C),egret.Tween.get(C,{loop:!0}).to({rotation:-460},s);var w=new egret.Bitmap(RES.getRes("c6-2_png"));w.blendMode=egret.BlendMode.ADD,w.x=o,w.y=r,w.anchorOffsetY=-147,a.addChild(w),egret.Tween.get(w,{loop:!0}).to({rotation:360},s);var O=new egret.Bitmap(RES.getRes("c6-3_png"));O.blendMode=egret.BlendMode.ADD,O.x=o,O.y=r,O.rotation=120,O.anchorOffsetY=-56,a.addChild(O),egret.Tween.get(O,{loop:!0}).to({rotation:-240},s);var m=new egret.Bitmap(RES.getRes("c6-3_png"));m.blendMode=egret.BlendMode.ADD,m.x=o,m.y=r,m.anchorOffsetY=-56,a.addChild(m),egret.Tween.get(m,{loop:!0}).to({rotation:-360},s);var D=new egret.Bitmap(RES.getRes("bg_png"));D.blendMode=egret.BlendMode.ADD,a.addChild(D);for(var u=(new Date).getTime(),B=0;60>B;B++){var _=new Star(B,u);_.x=o,_.y=r,this.arrStars.push(_),a.addChild(_)}this.addEventListener(egret.Event.ENTER_FRAME,function(){var t=(new Date).getTime();e.moveStars(t)},this)},o.moveStars=function(e){for(var t=0,n=this.arrStars.length;n>t;t++)this.arrStars[t].onMove(e)},t}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");var Star=function(e){function t(t,n){e.call(this),this.id=0,this.radius=200,this.id=t,this.time=n;var o=new egret.Bitmap(RES.getRes("star_png"));o.anchorOffsetX=3,o.anchorOffsetY=3,this.bmp=o,this.addChild(o);var r=6.28*t/60;o.x=this.radius*Math.cos(r),o.y=this.radius*Math.sin(r)}__extends(t,e);var n=(__define,t),o=n.prototype;return o.onMove=function(e){var t=this.getAngle(e);this.bmp.x=this.radius*Math.cos(t),this.bmp.y=this.radius*Math.sin(t)},o.getAngle=function(e){var t=e-this.time;Math.floor(t/5e3)%2==0?this.radius=200+t%5e3*.006:this.radius=230-t%5e3*.006;var n=6.28*(360*this.id/60+.004*t)/360;return n},t}(egret.DisplayObjectContainer);egret.registerClass(Star,"Star");